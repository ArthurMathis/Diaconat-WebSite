CREATE TABLE Types_de_contrats (
    Id_Types_de_contrats INTEGER AUTO_INCREMENT PRIMARY KEY,
    Intitule_Types_de_contrats VARCHAR(64) NOT NULL UNIQUE,
    Description_Types_de_contrats TEXT
);

CREATE TABLE Proposer_a (
    Cle_Candidats INTEGER NOT NULL, 
    Cle_Instants INTEGER NOT NULL, 

    FOREIGN KEY (Cle_Candidats) REFERENCES candidats(Id_Candidats),
    FOREIGN KEY (Cle_Instants) REFERENCES instants(Id_Instants), 

    PRIMARY KEY(Cle_Candidats, Cle_Instants)
);

CREATE TABLE Contrats (
    Id_Contrats INTEGER AUTO_INCREMENT PRIMARY KEY,
    Date_debut_Contrats DATE NOT NULL,
    Date_fin_Contrats DATE NOT NULL, 
    Salaires_Contrats DECIMAL(10, 2), 
    Demissione_Contrats BOOLEAN DEFAULT FALSE, 
    Date_demission_Contrats DATE, 

    Cle_Candidats INTEGER NOT NULL,
    Cle_Instants INTEGER NOT NULL,
    Cle_Missions INTEGER NOT NULL,
    Cle_Type_de_contrats INTEGER NOT NULL,
    Cle_Signature INTEGER, 

    FOREIGN KEY (Cle_Candidats, Cle_Instants) REFERENCES Proposer_a(Cle_Candidats, Cle_Instants), 
    FOREIGN KEY (Cle_Missions) REFERENCES Missions(Id_Missions),
    FOREIGN KEY (Cle_Type_de_contrats) REFERENCES Types_de_contrats(Id_Types_de_contrats), 
    FOREIGN KEY (Cle_Signature) REFERENCES Instants(Id_Instants)
);

CREATE TABLE Horaires (
    Id_Horaires INTEGER AUTO_INCREMENT PRIMARY KEY,
    Date_debut_Horaires DATE NOT NULL,
    Date_fin_Horaires DATE NOT NULL,
    Heure_debut_Horaires TIME NOT NULL,
    Heure_fin_Horaires TIME NOT NULL, 

    Cle_contrats INTEGER NOT NULL, 

    FOREIGN KEY (Cle_contrats) REFERENCES Contrats(Id_Contrats)
);
