CREATE TABLE Roles (
	Id INTEGER AUTO_INCREMENT PRIMARY KEY,
    Intitule VARCHAR(32) NOT NULL UNIQUE
);

INSERT INTO Roles (Intitule) VALUES
('Administrateur'),
('Modérateur'),
('Utilisateur'),
('Invité');

CREATE TABLE Utilisateurs (
	Id INTEGER AUTO_INCREMENT PRIMARY KEY,
    Nom VARCHAR(64) NOT NULL,
    MotDePasse VARCHAR(256) NOT NULL,
    Email VARCHAR(64) UNIQUE,
    CodeProvisoir VARCHAR(16),
    CodeDeRecuperation VARCHAR(16),
    Id_Roles INTEGER NOT NULL,
    FOREIGN KEY (Id_Roles) REFERENCES Roles(Id)
);

CREATE TABLE Types (
	Id INTEGER AUTO_INCREMENT PRIMARY KEY,
    Intitule VARCHAR(32) NOT NULL UNIQUE
);

INSERT INTO types (Intitule) VALUES 
('Connexion'), 
('Deconnexion');

CREATE TABLE Instants (
	Id INTEGER AUTO_INCREMENT PRIMARY KEY,
    Jour DATE NOT NULL,
    Heure TIME NOT NULL
);

CREATE TABLE Actions (
	Id INTEGER AUTO_INCREMENT PRIMARY KEY,
    Intitule VARCHAR(32) NOT NULL UNIQUE,
    Description TEXT, 
    Id_Utilisateurs INTEGER NOT NULL,
    Id_Types INTEGER NOT NULL,
    Id_Instants INTEGER NOT NULL,
    
    FOREIGN KEY (Id_Utilisateurs) REFERENCES Utilisateurs(Id),
    FOREIGN KEY (Id_Types) REFERENCES Types(Id),
    FOREIGN KEY (Id_Instants) REFERENCES Instants(Id)
);

// Utile ??

CREATE TABLE Se_connecter (
    Id_Utilisateurs INTEGER NOT NULL,
    Id_Instants INTEGER NOT NULL,

    PRIMARY KEY (Id_Utilisateurs, Id_Instants),
    FOREIGN KEY (Id_Utilisateurs) REFERENCES Utilisateurs(Id),
    FOREIGN KEY (Id_Instants) REFERENCES Instants(Id)
);